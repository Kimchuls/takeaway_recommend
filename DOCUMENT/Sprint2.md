# Sprint 2

| 目标功能点 | 功能需求                                                     |
| ---------- | ------------------------------------------------------------ |
| 登录       | 邮箱登录                                                     |
| 注册       | 密码重复性检验                                               |
| 上传推荐   | 允许上传文字、图片                                           |
| 展示推荐   | 1、搜索<br />2、记录点击量<br />3、点赞<br />4、按照点击量或点赞数排序 |
| 修改推荐   | 删除推荐                                                     |

### 功能需求具体描述

#### 邮箱登录

用邮箱代替账号登录。

#### 密码重复性检验

注册账号时，让用户确认自己的密码。

#### 上传推荐

完整的推荐包含标题，文本内容，图片内容三个部分，其中标题是必须的，文本内容不可以为空。

#### 搜索

用户可以按照关键字，对标题进行搜索。

#### 记录点击量

当有一个别的用户点击进入一个推荐进行浏览时，记录下这一次点击。

#### 点赞

在展示推荐页面提供点赞选项，用户的点赞记录将被记录，用户可以翻看自己点赞过的推荐

#### 排序

在“展示推荐”的页面中，用户可以使用排序功能，看到点击量高的或者点赞高的推荐。

#### 删除推荐

用户可以删除自己曾经上传过的推荐。



### 功能需求实现流程

#### 邮箱登录

在后端识别输入的是“账号”还是"邮箱"。

#### 密码重复性检验

注册账号时，在前端完成，如果密码不一样，提示用户，用onchange属性。

#### 上传推荐

整条推荐R一起上传，后端收到推荐R后，为R创建一个“日期+时间”的关键字，然后写入recommend_info关系中；图片也按照“日期+时间+图片编号”创建关键字，写入recommend_pic实体内。

#### 搜索

发送一个带参数的GET请求到后端，后端匹配标题，内容，返回所有匹配结果到前端。

#### 记录点击量

每当前端点击推荐链接进入推荐页面时，后端记录一次点击。

#### 点赞

创建一个点赞recommend_up关系，用户点赞或者取消点赞的动作会被传到后端，后端新增或删除一个元素。

当用户需要翻看自己点赞过的推荐时，后端数据库筛选出结果返回。

#### 排序

在“展示推荐”的页面中，用户可以使用排序功能，在后端维护一个数据结构，维护所有推荐按照点赞数排序。

#### 删除推荐

在后端数据库中删除掉所有相关的关系和实体。